"use strict";(self.webpackChunkfind_pets=self.webpackChunkfind_pets||[]).push([[771],{9771:function(e,n,t){t.r(n),t.d(n,{default:function(){return pe}});var r,i,o,a,s,u,c,l,d,f,p=t(890),x=t(2791),m=t(168),h=t(225),Z=h.Z.div(r||(r=(0,m.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 60px;\n"]))),y=t(184),b=function(){return(0,y.jsx)(Z,{children:(0,y.jsx)(p.Z,{variant:"h6",children:"My pets:"})})},j=t(1413),v=t(4165),g=t(5861),k=t(9439),w=t(8147),M=h.Z.div(i||(i=(0,m.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]))),S=h.Z.form(o||(o=(0,m.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),C=t(5705),N=t(6727),D=t(4641),I=t(3400),L=(0,h.Z)(I.Z)(a||(a=(0,m.Z)(["\n  width: fit-content;\n  color: ",";\n"])),(function(e){return e.theme.palette.primary.light})),z=h.Z.span(s||(s=(0,m.Z)(["\n  font-size: 12px;\n  letter-spacing: 0.04em;\n  color: rgba(17, 17, 17, 0.6);\n  font-size: 16px;\n  font-weight: 500;\n"]))),A=t(1686),B=t(6488),Y=function(){var e=(0,D.d3)(),n=(0,k.Z)(e,1)[0],t=(0,x.useCallback)((0,g.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n().unwrap();case 3:A.Notify.success("Success"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),A.Notify.error(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),[n]);return(0,y.jsxs)(L,{onClick:t,children:[(0,y.jsx)(B.Z,{}),(0,y.jsx)(z,{children:"Log Out"})]})},_=t(5264),O=t(1286),$=t(872),R=t(9276),E=t(4227),F=(0,h.Z)(E.Z)((function(){return{".MuiInput-root":{height:"100%"},".MuiInput-root:before, .Mui-disabled:before":{borderBottomStyle:"none"},".MuiInput-root:after":{borderBottomStyle:"none"},".MuiInput-root.Mui-disabled:before":{borderBottomStyle:"none"}}})),T=t(4925),U=function(e){var n=e.formik,t=e.fieldName,r=e.isLoading,i=(0,x.useState)(!1),o=(0,k.Z)(i,2),a=o[0],s=o[1],u=(0,x.useMemo)((function(){return n.errors[t]}),[n.errors,t]),c=function(){var e=(0,g.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!Boolean(u)){e.next=3;break}return _.Notify.failure(u),e.abrupt("return");case 3:s((function(e){return!e})),a&&n.handleSubmit();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,y.jsxs)(R.Z,{display:"flex",justifyContent:"space-between",children:[(0,y.jsx)(T.Z,{sx:{display:"flex",alignItems:"center"},children:t.charAt(0).toUpperCase()+t.substr(1)}),(0,y.jsx)(F,{variant:"standard",name:t,type:"text",disabled:!a,value:n.values[t],onChange:n.handleChange,onBlur:n.handleBlur,error:n.touched[t]&&Boolean(n.errors[t]),helperText:n.errors[t]}),(0,y.jsx)(I.Z,{onClick:c,disabled:r,children:a?(0,y.jsx)($.Z,{color:"primary"}):(0,y.jsx)(O.Z,{color:"primary"})})]})},V=t(6571),J=t(7792),q=t(7892),G=t.n(q),H=t(8870),K=t(5132),P=(0,h.Z)(K.M)((function(){return{".MuiOutlinedInput-notchedOutline":{border:"none"},".MuiTextField-root":{display:"flex",justifyContent:"center"},".MuiOutlinedInput-root":{width:"200px",borderRadius:"0px"}}})),Q=function(e){var n=e.formik,t=e.fieldName,r=e.isLoading,i=(0,x.useState)(!1),o=(0,k.Z)(i,2),a=o[0],s=o[1],u=x.useState(G()(new Date(n.values[t]))),c=(0,k.Z)(u,2),l=c[0],d=c[1],f=(0,x.useMemo)((function(){return n.errors[t]}),[n.errors,t]),p=function(){var e=(0,g.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!Boolean(f)){e.next=3;break}return _.Notify.failure(f),e.abrupt("return");case 3:s((function(e){return!e})),a&&n.handleSubmit();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,y.jsxs)(H.Z,{display:"flex",justifyContent:"space-between",children:[(0,y.jsx)(T.Z,{sx:{display:"flex",alignItems:"center"},children:t.charAt(0).toUpperCase()+t.substr(1)}),(0,y.jsx)(V._,{dateAdapter:J.y,children:(0,y.jsx)(P,{inputFormat:"DD.MM.YYYY",value:l,onChange:function(e){d(e),n.values[t]=G()(e).format("YYYY-MM-DD")},disabled:!a,renderInput:function(e){return(0,y.jsx)(E.Z,(0,j.Z)({},e))}})}),(0,y.jsx)(I.Z,{onClick:p,disabled:r,children:a?(0,y.jsx)($.Z,{color:"primary"}):(0,y.jsx)(O.Z,{color:"primary"})})]})},W=N.Ry({name:N.Z_().min(1,"Name is too short!").max(70,"Name is too long!").matches(/^[a-zA-Z]+$/,"Only letters!"),email:N.Z_().matches(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,"Incorrect email address!"),birthdate:N.Z_().matches(/^(?:(?:31(\/|-|\.)(?:0?[13578]|1[02]))\1|(?:(?:29|30)(\/|-|\.)(?:0?[13-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\/|-|\.)0?2\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\d|2[0-8])(\/|-|\.)(?:(?:0?[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$/),phone:N.Z_().matches(/^\+380\d{9}$/,"must have +380 format"),city:N.Z_().matches(/[A-Za-z]+, [A-Za-z]+/,'Format is "region, city"')}),X=function(){var e=(0,w.a)().user,n=(0,D.kD)(),t=(0,k.Z)(n,2),r=t[0],i=t[1],o=i.isLoading,a=i.isError,s=i.error,u=function(e){if(!e)return"0000-00-00";var n=new Date(e);return[n.toLocaleString("default",{year:"numeric"}),n.toLocaleString("default",{month:"2-digit"}),n.toLocaleString("default",{day:"2-digit"})].join("-")},c=(0,x.useMemo)((function(){var n=e.name,t=void 0===n?"":n,r=e.email,i=void 0===r?"":r,o=e.birthday,a=void 0===o?"0000-00-00":o,s=e.phone,c=void 0===s?"":s,l=e.city,d=void 0===l?"":l;return{name:t,email:i,birthday:u(a),phone:c,city:d}}),[e]),l=function(){var e=(0,g.Z)((0,v.Z)().mark((function e(n,t){var i;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.setSubmitting,e.next=3,r(n).unwrap();case 3:i(!1),a&&(console.log(s),_.Notify.failure(JSON.stringify(s.data)));case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),d=(0,C.TA)({initialValues:(0,j.Z)({},c),enableReinitialize:!0,validationSchema:W,onSubmit:l});return(0,y.jsxs)(M,{children:[(0,y.jsx)(S,{onSubmit:d.handleSubmit,children:Object.entries(d.initialValues).map((function(e){return"birthday"===e[0]?(0,y.jsx)(Q,{formik:d,fieldName:e[0],isLoading:o},e[0]):(0,y.jsx)(U,{formik:d,fieldName:e[0],isLoading:o},e[0])}))}),(0,y.jsx)(Y,{})]})},ee=t(4942),ne=t(5527),te=h.Z.div(u||(u=(0,m.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 60px;\n"]))),re=(0,h.Z)(ne.Z)((function(e){var n,t=e.theme;return n={display:"flex",flexDirection:"column",alignItems:"center",padding:"20px 16px 10px 16px"},(0,ee.Z)(n,t.breakpoints.up("tablet"),{flexDirection:"row-reverse"}),(0,ee.Z)(n,t.breakpoints.up("desktop"),{flexDirection:"column",width:"410px"}),n})),ie=t(1720),oe=t(3044),ae=h.Z.div(c||(c=(0,m.Z)(["\n  display: flex;\n  justify-content: center;\n  position: relative;\n  width: 100%;\n"]))),se=(0,h.Z)(oe.Z)(l||(l=(0,m.Z)(["\n  width: 230px;\n  height: 230px;\n  margin-bottom: 30px;\n  filter: drop-shadow(0px 4px 14px rgba(0, 0, 0, 0.11));\n"]))),ue=(0,h.Z)(I.Z)(d||(d=(0,m.Z)(["\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  color: ",";\n"])),(function(e){return e.theme.palette.primary.light})),ce=h.Z.span(f||(f=(0,m.Z)(["\n  font-size: 12px;\n  letter-spacing: 0.04em;\n  color: ",";\n"])),(function(e){return e.theme.palette.common.black})),le=function(){var e=(0,w.a)().user;return(0,y.jsxs)(ae,{children:[(0,y.jsx)(se,{alt:e.name,src:e.avatarURL}),(0,y.jsxs)(ue,{onClick:function(){A.Notify.success("Edit photo")},children:[(0,y.jsx)(ie.Z,{}),(0,y.jsx)(ce,{children:"Edit photo"})]})]})},de=function(){return(0,y.jsxs)(te,{children:[(0,y.jsx)(p.Z,{variant:"h6",marginBottom:"25px",children:"My information:"}),(0,y.jsxs)(re,{children:[(0,y.jsx)(le,{}),(0,y.jsx)(X,{})]})]})},fe=h.Z.div((function(e){var n=e.theme;return(0,ee.Z)({display:"flex",flexDirection:"column",alignItems:"center"},n.breakpoints.up("desktop"),{flexDirection:"row"})})),pe=function(){return(0,y.jsxs)(fe,{children:[(0,y.jsx)(de,{}),(0,y.jsx)(b,{})]})}}}]);
//# sourceMappingURL=771.b04fea5a.chunk.js.map